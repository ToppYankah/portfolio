"use client";
import { Review } from "~/interfaces/interfaces";
import { StarIcon } from "@heroicons/react/24/solid";

const ReviewItem = ({ review }: { review: Review }) => {
  return (
    <div className="review-item relative flex min-h-[350px] min-w-[clamp(400px,35%,500px)] flex-col gap-5 overflow-hidden rounded-3xl bg-accent px-[clamp(5%,10%,30px)] py-10">
      <div className="absolute opacity-[0.08]">
        <QuoteSVG />
      </div>
      <p className="text-md mt-12">{review.comment}</p>
      <div className="mt-auto flex gap-5">
        <div className="rounded-full border-4 border-bg p-[3px]">
          <img
            draggable={false}
            src={review.profilePhoto}
            className="h-[55px] w-[45px] rounded-full object-cover"
          />
        </div>
        <div className="flex flex-1 flex-col justify-center">
          <p className="text-sm font-semibold">{review.name}</p>
          <p className="text-xs opacity-60">
            <span>{review.company}</span>, <span>{review.profession}</span>
          </p>
        </div>
        <div className="flex items-center gap-1">
          <StarIcon
            width={18}
            className="text-orange-500 "
          />
          <span className="text-sm font-bold leading-[1em]">
            {review.rating.toFixed(1)}
          </span>
        </div>
      </div>
    </div>
  );
};

const QuoteSVG = () => {
  return (
    <svg
      width="200"
      height="122"
      viewBox="0 0 76 122"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className="-translate-x-[50%]"
    >
      <path
        d="M76 19.4037C69.707 21.1823 63.8173 23.6077 58.3311 26.68C52.845 29.5905 48.0042 32.9861 43.809 36.8668C39.775 40.5858 36.5477 44.7092 34.1274 49.2366C31.7071 53.6023 30.4968 58.0491 30.4968 62.5766C30.4968 64.3553 30.5776 65.8913 30.7388 67.185C31.0615 68.3169 31.3842 68.8828 31.7071 68.8828C32.6752 68.8828 33.7241 68.5593 34.8536 67.9125C36.1444 67.104 37.5966 66.2957 39.2102 65.4871C40.8237 64.6786 42.518 63.9509 44.2929 63.3042C46.2293 62.4957 48.3269 62.0915 50.5859 62.0915C53.9745 62.0915 57.2016 62.8192 60.2675 64.2745C63.4946 65.7297 66.2378 67.7509 68.4968 70.3381C70.7559 72.9252 72.5308 76.0783 73.8216 79.7973C75.2738 83.3546 76 87.2352 76 91.4394C76 95.6436 75.1125 99.605 73.3376 103.324C71.5625 107.043 69.1422 110.277 66.0764 113.026C63.0107 115.775 59.38 117.958 55.1846 119.575C51.1507 121.192 46.794 122 42.1147 122C36.3058 122 30.8195 120.707 25.656 118.119C20.4925 115.532 15.9746 112.056 12.1019 107.69C8.39065 103.324 5.40551 98.1497 3.1465 92.1671C1.04884 86.1843 0 79.7973 0 73.006C0 62.8192 2.01698 53.4407 6.05095 44.8708C10.2463 36.1392 15.8132 28.6204 22.7515 22.3142C29.6901 15.8462 37.758 10.672 46.9555 6.79125C56.1529 2.91053 65.8345 0.646795 76 0V19.4037Z"
        fill="var(--foreground-hex)"
      />
      <path
        d="M30.2427 67.2468L30.2474 67.285L30.258 67.3221C30.423 67.901 30.5974 68.3708 30.7886 68.706C30.884 68.8735 30.9971 69.0315 31.1354 69.1527C31.2768 69.2766 31.4699 69.3828 31.7071 69.3828C32.7873 69.3828 33.922 69.0221 35.102 68.3464L35.1106 68.3415L35.119 68.3363C36.3941 67.5375 37.8322 66.7369 39.4342 65.9342C41.0298 65.1346 42.7064 64.4144 44.4641 63.774L44.4749 63.77L44.4856 63.7656C46.3563 62.9844 48.3879 62.5915 50.5859 62.5915C53.9002 62.5915 57.0541 63.3026 60.0531 64.7262L60.053 64.7262L60.062 64.7303C63.2257 66.1569 65.9099 68.1356 68.1202 70.6669C70.3314 73.1992 72.0764 76.2941 73.3492 79.9613L73.3536 79.9739L73.3587 79.9863C74.7842 83.4782 75.5 87.2939 75.5 91.4394C75.5 95.5706 74.6285 99.4583 72.8864 103.109C71.1397 106.768 68.7593 109.949 65.7426 112.654L66.0212 112.964L65.7426 112.654C62.726 115.358 59.1488 117.511 55.0048 119.108L54.9986 119.111C51.0282 120.702 46.7352 121.5 42.1147 121.5C36.3831 121.5 30.9735 120.224 25.88 117.672C20.7755 115.115 16.3095 111.679 12.4794 107.362C8.81213 103.047 5.85649 97.927 3.61637 91.9961C1.53996 86.0717 0.5 79.7429 0.5 73.006C0.5 62.8878 2.50278 53.5833 6.50256 45.0854C10.6708 36.4107 16.1992 28.9452 23.0878 22.6842L23.0879 22.6842L23.0925 22.6799C29.9859 16.254 38.0036 11.111 47.1498 7.25192C56.1341 3.46116 65.5834 1.22179 75.5 0.534337V19.0262C69.3093 20.8048 63.5061 23.2094 58.0918 26.2409C52.5728 29.1694 47.6977 32.5886 43.4694 36.4997C39.3984 40.253 36.1363 44.419 33.6882 48.9976C31.2323 53.4286 29.9968 57.957 29.9968 62.5766C29.9968 64.3691 30.0781 65.9268 30.2427 67.2468Z"
        stroke="var(--foreground-hex)"
        className="translate-x-5"
      />
    </svg>
  );
};

export default ReviewItem;
